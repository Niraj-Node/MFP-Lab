DATA SEGMENT
  NUM DW 0005,0007
  LCM DW 2 DUP(0)
DATA ENDS

MY_STACK SEGMENT STACK
	DW 20 DUP(0)
	STACK_TOP LABEL WORD
MY_STACK ENDS

CODE SEGMENT
	ASSUME CS:CODE,DS:DATA,SS:MY_STACK
	MOV AX,DATA
	MOV DS,AX
	MOV AX,MY_STACK
	MOV SS,AX
	MOV SI,STACK_TOP

	MOV SI, OFFSET NUM
	MOV DI, OFFSET LCM
	MOV AX, WORD PTR [SI]
	MOV BX, WORD PTR [SI+2]
	MOV CX, AX
	MOV DX, BX

	CALL MY_PROC	
	MOV AX, 4C00H
	INT 21H

	MY_PROC PROC NEAR
		PUSH AX
		PUSH BX
		PUSH CX
		PUSH DX

		repeat: NOP
		CMP AX, BX
		JE STORE
		JC ASMALLER
		ADD BX, DX
		JMP repeat
		ASMALLER: NOP
		ADD AX, CX
		JMP repeat

		STORE: NOP
		MOV WORD PTR[DI], AX
		POP DX
		POP CX
		POP BX
		POP AX
		RET
	MY_PROC ENDP
CODE ENDS 
END